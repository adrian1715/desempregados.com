<%- layout('../layouts/boilerplate') %>

<main class="container py-5">
  <%- include('../../partials/flash') %>

  <div class="col-12 col-md-8 offset-md-2">
    <h1>Nova vaga</h1>

    <form action="/api/jobs" method="POST" class="needs-validation" novalidate>
      <div class="row mb-3">
        <div class="col-12 col-md-6">
          <label for="title" class="form-label">Título</label>
          <input
            id="title"
            name="title"
            type="text"
            class="form-control"
            placeholder="Ex: Desenvolvedor Node.js"
            required
          />
        </div>
        <div class="col-12 col-md-6">
          <label for="position" class="form-label">Carreira / Posição</label>
          <select id="position" name="position" class="form-select" required>
            <option value="" hidden>Selecione uma carreira</option>
            <% if (Array.isArray(careers)) { %> <% careers.forEach((career) => {
            %>
            <option value="<%= career.name %>"><%= career.name %></option>
            <% }) %> <% } %>
          </select>
        </div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Descrição</label>
        <textarea
          id="description"
          name="description"
          rows="6"
          class="form-control"
          placeholder="Detalhes da vaga, responsabilidades, requisitos..."
          required
        ></textarea>
      </div>

      <div class="row align-items-end">
        <div class="mb-3 col-12 col-md-4">
          <label for="salary" class="form-label">Salário (opcional)</label>
          <input
            id="salary"
            name="salary"
            type="number"
            step="0.01"
            class="form-control"
            placeholder="Ex: 4000"
          />
        </div>

        <div class="mb-3 col-12 col-md-4">
          <label for="type" class="form-label">Tipo de vaga</label>
          <select id="type" name="type" class="form-select" required>
            <option value="" hidden>Selecione o tipo</option>
            <option>Tempo integral</option>
            <option>Meio período</option>
            <option>Contrato</option>
            <option>Estágio</option>
            <option>Temporário</option>
          </select>
        </div>

        <div class="mb-4 col-12 col-md-4 form-check form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            id="isRemote"
            name="isRemote"
          />
          <label class="form-check-label" for="isRemote">Remoto?</label>
        </div>
      </div>

      <div class="mb-4" id="location-group">
        <label for="location" class="form-label">Local (cidade / estado)</label>
        <input
          id="location"
          name="location"
          type="text"
          class="form-control"
          placeholder="Ex: São Paulo, SP"
        />
      </div>

      <div class="float-end gap-2">
        <a href="/vagas" class="btn btn-outline-secondary">Cancelar</a>
        <button type="submit" class="btn btn-primary">Publicar vaga</button>
      </div>
    </form>
  </div>
</main>
